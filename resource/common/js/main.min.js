!function(){"use strict";function e(){var e=(window.innerHeight||document.documentElement.clientHeight,document.querySelector(".twitter-button"));e.style.top="100px"}function t(){$(".fixInfo").animate({height:s,top:u+p+70-s+"px"},3e3,"easeInQuart")}function n(){m.style.top=u+p+70-s+"px"}function a(e,t,n,a){if(e){var d=document.createElement("section");d.classList.add(t);var r=document.createElement("h1"),i=document.createElement("span");i.innerHTML=n,r.classList.add("sectionTitle");var c=document.createElement("div");c.innerHTML=e,a.appendChild(d),d.appendChild(r),r.appendChild(i),d.appendChild(c)}}function d(e,t){if(e){var n=document.createElement("div");n.innerHTML=e,t.appendChild(n)}}function r(e,t){var n="#tab"+t,a="tab"+t,d="event-table"+t,r=document.createElement("a");r.setAttribute("data-toggle","tab"),r.setAttribute("href",n);var i=document.createTextNode(e[0][0]),c=document.createElement("li");1==t?(c.classList.add("active"),c.classList.add("tab1")):2==t&&c.classList.add("tab2"),r.appendChild(i),c.appendChild(r),L.appendChild(c);var o=document.createElement("div");o.id=a,o.classList.add("tab-pane"),o.classList.add("fade"),1==t&&(o.classList.add("in"),o.classList.add("active")),g.appendChild(o);var l=document.createElement("table");l.id=d,l.classList.add("table-large"),o.appendChild(l);var s=document.createElement("tr"),m=document.createElement("th");m.innerHTML="時間",m.classList.add("st-head-row"),l.appendChild(s),s.appendChild(m),function(){for(var t=1;t<e[0].length;t++){var n=document.createElement("th");n.innerHTML=e[0][t],s.appendChild(n)}}();for(var u=1;u<e.length;u++){var p,h;e[u][0]&&(h=document.createElement("tr"),l.appendChild(h));for(var v=0;v<e[u].length;v++)if(e[u][0]){var f="event"+t+u+v;p=u;var C=document.createElement("td");e[u][v]==e[u][0]?C.classList.add("eventTime"):C.classList.add(f),C.innerHTML=e[u][v],h.appendChild(C)}else if(!e[u][0]&&e[u][v]&&e[u][v].indexOf("http")){var E,y=document.createElement("div");if(y.innerHTML=e[u][v],u-p==1)E=u-1;else{var T=u-p;E=u-T}var b=".event"+t+E+v,w=document.querySelector(b);w.appendChild(y)}else if(!e[u][0]&&e[u][v].match(/http/)){var S,_=document.createElement("a");if(_.href=e[u][v],_.setAttribute("target","_blank"),u-p==2)S=u-2;else{var H=u-p;S=u-H}var q=".event"+t+S+v,M=document.querySelector(q),x=M.lastChild;_.appendChild(x),M.appendChild(_)}}}function i(e){var t="#event-table"+e,n=document.querySelector(t),a="#tab"+e,d=document.querySelector(a),r=document.createElement("table");r.classList.add("table-small"),d.appendChild(r);for(var i=n.rows.length,c=n.rows[0].cells.length,o=1;o<i;o++)for(var l=0;l<c;l++)if(n.rows[o].cells[l].innerHTML){var s=document.createElement("tr");if(r.appendChild(s),n.rows[o].cells[l]==n.rows[o].cells[0]){var m=document.createElement("th");m.innerHTML=n.rows[o].cells[0].innerHTML,c>3&&m.setAttribute("colspan","2"),m.classList.add("eventTime"),s.appendChild(m)}else{if(c>3){var u=document.createElement("th");u.innerHTML=n.rows[0].cells[l].innerHTML,s.appendChild(u)}var p=document.createElement("td");p.innerHTML=n.rows[o].cells[l].innerHTML,n.rows[o].cells[l]==n.rows[o].cells[0]&&p.classList.add("eventTime"),s.appendChild(p)}}}function c(e,t){$.get(e,function(e,n){var a=[];if("success"==n){e=e.replace(/\r/gm,"");var d=e.split("\n"),r=0;for(r in d)if(0!==d[r].length){var i=d[r].split(",");a.push(i)}}t(a)})}var o=window.innerWidth||document.documentElement.clientWidth;$.ajax({url:"data/twitterWidget.txt",timeout:1e3,success:function(e){if(0===e.length)$(".twitter-button").css({display:"none"});else{$(".twitter-widget").html(e)}},error:function(){alert("Twitterの取得に失敗しました")}}),smoothScroll.init({speed:800,updateURL:!1,easing:"easeOutQuad"}),$(window).on("load resize orientationchange",function(){e()}),$("#leftSlidebar").mmenu({slidingSubmenus:!1,offCanvas:{position:"left",zposition:"front"}}),$.ajax({url:"data/textInformation.txt",timeout:1e3,success:function(e){console.log(e),0===e.length?$(".fixInfo").css({display:"none"}):($(".fixInfo").append(e),t())},error:function(){alert("「お知らせ」の取得に失敗しました")}}),$(window).on("load resize orientationchange",function(){t()}),$(window).on("scroll",function(){n()});var l=300,s=140,m=document.querySelector(".fixInfo"),u=window.innerHeight||document.documentElement.clientHeight,p=document.documentElement.scrollTop||document.body.scrollTop;m.style.height=l+"px",m.style.top=u-l+"px",document.querySelector("body").style.paddingBottom=s-70+"px";var h=300;window.addEventListener("scroll",function(e){$(window).scrollTop()>h?$("header").addClass("smaller"):$("header").hasClass("smaller")&&$("header").removeClass("smaller")}),c("data/date.csv",function(e){var t=e.length,n=1,a=document.querySelector(".home_date"),d=document.createElement("div");for(d.classList.add("home_eventInfo"),a.insertBefore(d,a.firstChild),n;n<t;n++){var r=document.createElement("ul");d.appendChild(r);var i=0,c=e[n].length;for(i;i<c;i++){var o=document.createElement("li");o.innerHTML=e[n][i],0===i?o.classList.add("home_eventDay"):o.classList.add("home_eventTime"),r.appendChild(o)}}}),c("data/info.csv",function(e){var t=e[1][0];switch(t){case"赤":document.querySelector("body").classList.add("is_red");break;case"ピンク":document.querySelector("body").classList.add("is_pinkGreen");break;case"ピンク2":document.querySelector("body").classList.add("is_pinkPink");break;case"黒":document.querySelector("body").classList.add("is_black");break;case"黄色":document.querySelector("body").classList.add("is_yellow")}var n=document.querySelector(".header_siteTitle");n.innerHTML=e[1][1];var a=document.createElement("meta");a.setAttribute("title",n),document.getElementsByTagName("head")[0].appendChild(a);var d=e[1][2],r=document.createElement("meta");if(r.setAttribute("description",d),document.getElementsByTagName("head")[0].appendChild(r),e[1][2]){var i=document.createElement("img");i.src=e[1][3],i.className="mainImg_img",document.querySelector(".mainImg").appendChild(i);var c=new Image;c.src=e[1][3],c.onload=function(){var e=c.width,t=c.height;if(e<t&&o>768){var n=document.querySelector(".mainImg_img");n.style.width="60%",n.style.marginLeft="20%"}}}var l=document.querySelector(".header_siteTitle"),s=document.querySelector(".mainImg"),m=l.offsetHeight;if(s.style.paddingTop=m+20+"px",console.log(m),e[1][4]){var u=document.createElement("div");u.innerHTML=e[1][4],u.classList.add("home_eventTime_caution"),document.querySelector(".home_date").appendChild(u)}if(e[1][5]){var p=document.createElement("div");p.innerHTML=e[1][5],p.classList.add("home_description"),document.querySelector(".home_date").appendChild(p)}}),c("data/access.csv",function(e){var t=document.querySelector(".home_place"),n=e.length,a=1,d=1,r=document.createElement("div");for(r.classList.add("home_access_palce"),t.appendChild(r),a;a<n;a++){var i=document.createElement("div");i.innerHTML=e[a][0],r.appendChild(i)}if(e[d][1]){var c=document.querySelector(".home"),o=document.createElement("section");o.classList.add(".home_access"),c.appendChild(o);var l=document.createElement("h1");l.classList.add("sectionTitle"),o.appendChild(l);var s=document.createElement("span");s.innerHTML="アクセス",l.appendChild(s);var m=document.createElement("ul");for(o.appendChild(m),d;d<n;d++){var u=document.createElement("li");u.innerHTML=e[d][1],m.appendChild(u)}}}),c("data/caution.csv",function(e){var t=e.length;if(t-1>0){var n=document.createElement("section");document.querySelector(".home").appendChild(n);var a=document.createElement("h1"),d=document.createElement("span");d.innerHTML="ご注意",a.appendChild(d),a.classList.add("home-caution"),a.classList.add("sectionTitle"),n.appendChild(a);var r=document.createElement("ul");n.appendChild(r);var i=1;for(i;i<t;i++){var c=document.createElement("li");c.innerHTML=e[i],r.appendChild(c)}}}),c("data/event-info.csv",function(e){var t=e.length,n=document.querySelector(".event_info");if(e[0][0])for(var a=0;a<t;a++)for(var d=0;d<e[a].length;d++){var r=document.createElement("div");d>0&&r.classList.add("event_day"),r.innerHTML=e[a][d],n.appendChild(r)}});var v=document.querySelector(".event"),f=document.createElement("section");f.classList.add("event_schedule"),v.appendChild(f);var L=document.createElement("ul");L.classList.add("nav"),L.classList.add("nav-tabs"),f.appendChild(L);var g=document.createElement("div");g.classList.add("tab-content"),f.appendChild(g),c("data/event-1.csv",function(e){var t=1;e[0][0]&&(r(e,t),i(t)),c("data/event-2.csv",function(e){var t=2;e[0][0]&&(r(e,t),i(t))})}),c("data/sponsors.csv",function(e){var t=(e.length,document.querySelector(".sponsors"));a(e[1][0],"sponsors_organizer","主催",t);var n=t.children[0];d(e[1][1],n),a(e[1][2],"sponsors_support","後援",t),a(e[1][3],"sponsors_cooperation","協力",t),a(e[1][4],"sponsors_sponsorship","協賛",t);var r=document.querySelector("footer");d(e[1][0],r)})}();